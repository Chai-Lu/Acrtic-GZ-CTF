/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{t as e}from"./cdbutviq.js";import{u as t}from"./gaobt2im.js";import{t as n}from"./j0saofxo.js";import{t as r}from"./nugqs812.js";import{t as i}from"./gjb4rijj.js";import{t as a}from"./dut9ujr7.js";import{t as o}from"./b671iymd.js";import{An as s,Ca as c,Cr as l,Hr as u,Jr as d,O as f,Oa as p,Or as m,Ot as h,Ur as g,W as _,Wi as v,cr as y,ct as b,d as x,dr as S,ha as C,jr as w,li as T,sr as E}from"./index.hrqptwjo.js";var D=p(f()),O=p(c()),k=p(C());const A=c=>{let{id:f}=y(),p=parseInt(f??`-1`),h=E(),{teamInfo:_,game:C,error:A}=t(p),j=e(),M=s(1080),{t:N}=S(),P=(_?.rank?.solvedCount??0)/(_?.challengeCount??1),F=(0,O.useMemo)(()=>_?.rank?.divisionId&&C?.divisions?C.divisions.find(e=>e.id===_.rank.divisionId)?.name??``:null,[_?.rank?.divisionId,C?.divisions]);(0,O.useEffect)(()=>{A?.status===x.GameEnded&&(h(`/games/${p}`),l({color:`yellow`,message:N(`game.notification.ended`),icon:(0,k.jsx)(D.Icon,{path:b,size:1})}))},[A]);let I=_?.rank,L=(e,t)=>(0,k.jsxs)(w,{gap:2,children:[(0,k.jsx)(o,{visible:!I,children:(0,k.jsx)(d,{ff:`monospace`,fw:`bold`,children:t??`0`})}),(0,k.jsx)(d,{size:`xs`,fw:500,children:e})]});return(0,k.jsx)(n,{...c,shadow:`sm`,children:(0,k.jsxs)(w,{gap:`xs`,children:[(0,k.jsxs)(T,{gap:`sm`,wrap:`nowrap`,children:[(0,k.jsx)(g,{alt:`avatar`,size:50,radius:`md`,src:I?.avatar,children:I?.name?.slice(0,1)??`T`}),(0,k.jsx)(o,{visible:!I,children:(0,k.jsxs)(w,{gap:2,align:`flex-start`,children:[(0,k.jsx)(m,{order:3,lineClamp:1,children:I?.name??`Team`}),F&&(0,k.jsx)(u,{size:`xs`,variant:`outline`,children:F})]})})]}),(0,k.jsxs)(T,{grow:!0,ta:`center`,children:[L(N(`game.label.score_table.rank_total`),I?.rank||`-`),F&&L(N(`game.label.score_table.rank_division`),I?.divisionRank),L(N(`game.label.score_table.score`),I?.score),L(N(`game.label.score_table.solved_count`),I?.solvedCount)]}),(0,k.jsx)(a,{value:P*100}),!M&&(0,k.jsx)(i,{value:_?.teamToken,readOnly:!0,leftSection:(0,k.jsx)(D.Icon,{path:`M7 14C5.9 14 5 13.1 5 12S5.9 10 7 10 9 10.9 9 12 8.1 14 7 14M12.6 10C11.8 7.7 9.6 6 7 6C3.7 6 1 8.7 1 12S3.7 18 7 18C9.6 18 11.8 16.3 12.6 14H16V18H20V14H23V10H12.6Z`,size:1}),variant:`unstyled`,onClick:()=>{j.copy(_?.teamToken),l({color:`teal`,message:N(`team.notification.token.copied`),icon:(0,k.jsx)(D.Icon,{path:`M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z`,size:1})})},classNames:{innerInput:v(r.cCopy,r.ffmono)}})]})})};export{A as t};