/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{i as e}from"./lcut4z52.js";import{t}from"./j0saofxo.js";import{$n as n,$t as r,Ca as i,Dr as a,Jn as o,Jr as s,Li as c,Mi as l,O as u,Oa as d,Or as f,Ur as p,Zt as m,ar as h,bt as g,di as _,dr as v,en as y,ha as b,jr as x,li as S,qr as C}from"./index.hrqptwjo.js";import{r as w}from"./c5dhfig7.js";import{t as T}from"./iwhjrhtg.js";var E=d(u()),D=d(a()),O=d(i()),k=d(b());const A=({post:r,onTogglePinned:i})=>{let a=c(),{role:u}=e(),{t:d}=v(),{colorScheme:y}=l(),[b,A]=(0,O.useState)(!1),{locale:j}=n();return(0,k.jsx)(t,{shadow:`sm`,p:`md`,children:(0,k.jsxs)(S,{px:`sm`,py:`xs`,wrap:`nowrap`,justify:`space-between`,align:`flex-start`,children:[(0,k.jsx)(E.Icon,{path:g,size:1.5,color:a.colors[a.primaryColor][y===`dark`?7:5]}),(0,k.jsxs)(x,{gap:`xs`,w:`calc(100% - 3rem)`,children:[T(o.Admin,u)?(0,k.jsxs)(S,{justify:`space-between`,wrap:`nowrap`,children:[(0,k.jsxs)(f,{order:3,children:[r.isPinned&&(0,k.jsxs)(s,{fw:`bold`,fz:`h3`,span:!0,c:a.primaryColor,children:[d(`post.content.pinned`),`\xA0\xA0`]}),r.title]}),(0,k.jsxs)(S,{justify:`right`,children:[i&&(0,k.jsx)(_,{disabled:b,onClick:()=>i(r,A),children:r.isPinned?(0,k.jsx)(E.Icon,{path:`M8,6.2V4H7V2H17V4H16V12L18,14V16H17.8L14,12.2V4H10V8.2L8,6.2M20,20.7L18.7,22L12.8,16.1V22H11.2V16H6V14L8,12V11.3L2,5.3L3.3,4L20,20.7M8.8,14H10.6L9.7,13.1L8.8,14Z`,size:1}):(0,k.jsx)(E.Icon,{path:`M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12M8.8,14L10,12.8V4H14V12.8L15.2,14H8.8Z`,size:1})}),(0,k.jsx)(_,{component:h,to:`/posts/${r.id}/edit`,children:(0,k.jsx)(E.Icon,{path:m,size:1})})]})]}):(0,k.jsxs)(f,{order:3,children:[r.isPinned&&(0,k.jsx)(s,{fw:`bold`,fz:`h3`,span:!0,c:a.primaryColor,children:`${d(`post.content.pinned`)} `}),r.title]}),(0,k.jsx)(w,{source:r.summary}),r.tags&&(0,k.jsx)(S,{children:r.tags.map((e,t)=>(0,k.jsx)(s,{size:`sm`,fw:`bold`,span:!0,c:a.primaryColor,children:`#${e}`},t))}),(0,k.jsxs)(S,{pt:`xs`,w:`100%`,justify:`space-between`,m:`auto`,fs:`normal`,children:[(0,k.jsxs)(S,{gap:5,justify:`right`,children:[(0,k.jsx)(p,{alt:`avatar`,src:r.authorAvatar,size:`sm`,children:r.authorName?.slice(0,1)??`A`}),(0,k.jsx)(s,{size:`sm`,fw:`bold`,c:`dimmed`,children:d(`post.content.metadata`,{author:r.authorName??`Anonym`,date:(0,D.default)(r.time).locale(j).format(`LLL`)})})]}),(0,k.jsx)(s,{ta:`right`,children:(0,k.jsx)(C,{component:h,to:`/posts/${r.id}`,children:(0,k.jsxs)(s,{span:!0,fw:`bold`,size:`sm`,children:[d(`post.content.details`),` >>>`]})})})]})]})]})})};export{A as t};