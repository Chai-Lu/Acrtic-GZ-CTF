/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{a as e,i as t,o as n,r,t as ee}from"./hrbt7ry7.js";import{Ca as i,Fi as te,Oa as a,Xi as o,Zr as s,ha as c,ji as l,ta as ne,wi as u}from"./index.hrqptwjo.js";var d=a(i(),1);function f(e){let t=(0,d.useRef)(void 0);return(0,d.useEffect)(()=>{t.current=e},[e]),t.current}var p=a(c(),1),re={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:`left`},m=u((i,a)=>{let c=l(`Select`,re,i),{classNames:u,styles:m,unstyled:h,vars:ie,dropdownOpened:ae,defaultDropdownOpened:oe,onDropdownClose:se,onDropdownOpen:ce,onFocus:le,onBlur:g,onClick:ue,onChange:de,data:_,value:v,defaultValue:y,selectFirstOptionOnChange:b,onOptionSubmit:fe,comboboxProps:pe,readOnly:x,disabled:S,filter:me,limit:he,withScrollArea:ge,maxDropdownHeight:_e,size:C,searchable:w,rightSection:T,checkIconPosition:E,withCheckIcon:D,nothingFoundMessage:O,name:k,form:A,searchValue:j,defaultSearchValue:M,onSearchChange:N,allowDeselect:P,error:F,rightSectionPointerEvents:I,id:ve,clearable:ye,clearButtonProps:be,hiddenInputProps:xe,renderOption:Se,onClear:Ce,autoComplete:we,scrollAreaProps:Te,__defaultRightSection:Ee,__clearSection:De,__clearable:Oe,chevronColor:ke,autoSelectOnBlur:L,attributes:R,...z}=c,B=(0,d.useMemo)(()=>n(_),[_]),V=(0,d.useRef)({}),H=(0,d.useMemo)(()=>e(B),[B]),U=ne(ve),[W,G,K]=o({value:v,defaultValue:y,finalValue:null,onChange:de}),q=typeof W==`string`?W in H?H[W]:V.current[W]:void 0,J=f(q),[Y,Ae,je]=o({value:j,defaultValue:M,finalValue:q?q.label:``,onChange:N}),X=t({opened:ae,defaultOpened:oe,onDropdownOpen:()=>{ce?.(),X.updateSelectedOptionIndex(`active`,{scrollIntoView:!0})},onDropdownClose:()=>{se?.(),setTimeout(X.resetSelectedOption,0)}}),Z=e=>{Ae(e),X.resetSelectedOption()},{resolvedClassNames:Q,resolvedStyles:$}=te({props:c,styles:m,classNames:u});(0,d.useEffect)(()=>{b&&X.selectFirstOption()},[b,Y]),(0,d.useEffect)(()=>{v===null&&Z(``),typeof v==`string`&&q&&(J?.value!==q.value||J?.label!==q.label)&&Z(q.label)},[v,q]),(0,d.useEffect)(()=>{!K&&!je&&Z(typeof W==`string`?W in H?H[W]?.label:V.current[W]?.label||``:``)},[H,W]),(0,d.useEffect)(()=>{W&&W in H&&(V.current[W]=H[W])},[H,W]);let Me=(0,p.jsx)(r.ClearButton,{...be,onClear:()=>{G(null,null),Z(``),Ce?.()}}),Ne=ye&&!!W&&!S&&!x;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(r,{store:X,__staticSelector:`Select`,classNames:Q,styles:$,unstyled:h,readOnly:x,size:C,attributes:R,keepMounted:L,onOptionSubmit:e=>{fe?.(e);let t=P&&H[e].value===W?null:H[e],n=t?t.value:null;n!==W&&G(n,t),!K&&Z(typeof n==`string`&&t?.label||``),X.closeDropdown()},...pe,children:[(0,p.jsx)(r.Target,{targetType:w?`input`:`button`,autoComplete:we,children:(0,p.jsx)(s,{id:U,ref:a,__defaultRightSection:(0,p.jsx)(r.Chevron,{size:C,error:F,unstyled:h,color:ke}),__clearSection:Me,__clearable:Ne,rightSection:T,rightSectionPointerEvents:I||`none`,...z,size:C,__staticSelector:`Select`,disabled:S,readOnly:x||!w,value:Y,onChange:e=>{Z(e.currentTarget.value),X.openDropdown(),b&&X.selectFirstOption()},onFocus:e=>{w&&X.openDropdown(),le?.(e)},onBlur:e=>{L&&X.clickSelectedOption(),w&&X.closeDropdown();let t=typeof W==`string`&&(W in H?H[W]:V.current[W]);Z(t&&t.label||``),g?.(e)},onClick:e=>{w?X.openDropdown():X.toggleDropdown(),ue?.(e)},classNames:Q,styles:$,unstyled:h,pointer:!w,error:F,attributes:R})}),(0,p.jsx)(ee,{data:B,hidden:x||S,filter:me,search:Y,limit:he,hiddenWhenEmpty:!O,withScrollArea:ge,maxDropdownHeight:_e,filterOptions:!!w&&q?.label!==Y,value:W,checkIconPosition:E,withCheckIcon:D,nothingFoundMessage:O,unstyled:h,labelId:z.label?`${U}-label`:void 0,"aria-label":z.label?void 0:z[`aria-label`],renderOption:Se,scrollAreaProps:Te})]}),(0,p.jsx)(r.HiddenInput,{value:W,name:k,form:A,disabled:S,...xe})]})});m.classes={...s.classes,...r.classes},m.displayName=`@mantine/core/Select`;export{m as t};