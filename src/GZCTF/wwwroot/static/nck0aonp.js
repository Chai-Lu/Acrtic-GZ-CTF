/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{a as e,i as t}from"./lcut4z52.js";import{t as n}from"./cbxtepre.js";import{d as r,m as i,t as a}from"./isy1dskq.js";import{t as o}from"./kocdnk2i.js";import{d as s,i as c,n as l,r as u}from"./gaobt2im.js";import{t as d}from"./j0saofxo.js";import{s as f,t as p}from"./nugqs812.js";import"./b671iymd.js";import"./h0nb8b87.js";import{$n as m,$t as h,Ai as g,An as _,Br as v,Ca as y,Di as b,Dr as x,Gi as S,Hr as C,In as w,Jn as T,Jr as E,Li as D,O,Oa as k,Or as A,Pi as ee,Si as te,Ti as j,Ur as M,Xr as N,Zt as ne,_a as P,_i as F,_t as re,ar as ie,b as I,ba as L,di as R,dr as z,en as ae,ha as B,ji as oe,jr as V,li as H,ma as se,sr as ce,ua as U,vi as W,vt as G,wi as K,xa as q,ya as J}from"./index.hrqptwjo.js";import{r as le}from"./c5dhfig7.js";import{t as ue}from"./iwhjrhtg.js";import{t as de}from"./juko2pme.js";var fe=k(O()),pe=k(x());function me(e){var t=e.toString(16);return t.length===1?`0`+t:t}function he(e){return`#`+e.map(me).join(``)}function ge(e){return(e[0]*299+e[1]*587+e[2]*114)/1e3<128}function _e(e){return e?ve(e)?e:[e]:[]}function ve(e){return Array.isArray(e[0])}function ye(e,t,n){for(var r=0;r<n.length;r++)if(be(e,t,n[r]))return!0;return!1}function be(e,t,n){switch(n.length){case 3:if(xe(e,t,n))return!0;break;case 4:if(Se(e,t,n))return!0;break;case 5:if(we(e,t,n))return!0;break;default:return!1}}function xe(e,t,n){return e[t+3]!==255||e[t]===n[0]&&e[t+1]===n[1]&&e[t+2]===n[2]}function Se(e,t,n){return e[t+3]&&n[3]?e[t]===n[0]&&e[t+1]===n[1]&&e[t+2]===n[2]&&e[t+3]===n[3]:e[t+3]===n[3]}function Ce(e,t,n){return e>=t-n&&e<=t+n}function we(e,t,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=e[t+3],l=Ce(c,o,s);return o?!!(!c&&l||Ce(e[t],r,s)&&Ce(e[t+1],i,s)&&Ce(e[t+2],a,s)&&l):l}var Te=24;function Ee(e,t,n){for(var r={},i=n.dominantDivider||Te,a=n.ignoredColor,o=n.step,s=[0,0,0,0,0],c=0;c<t;c+=o){var l=e[c],u=e[c+1],d=e[c+2],f=e[c+3];if(!(a&&ye(e,c,a))){var p=Math.round(l/i)+`,`+Math.round(u/i)+`,`+Math.round(d/i);r[p]?r[p]=[r[p][0]+l*f,r[p][1]+u*f,r[p][2]+d*f,r[p][3]+f,r[p][4]+1]:r[p]=[l*f,u*f,d*f,f,1],s[4]<r[p][4]&&(s=r[p])}}var m=s[0],h=s[1],g=s[2],_=s[3],v=s[4];return _?[Math.round(m/_),Math.round(h/_),Math.round(g/_),Math.round(_/v)]:n.defaultColor}function De(e,t,n){for(var r=0,i=0,a=0,o=0,s=0,c=n.ignoredColor,l=n.step,u=0;u<t;u+=l){var d=e[u+3],f=e[u]*d,p=e[u+1]*d,m=e[u+2]*d;c&&ye(e,u,c)||(r+=f,i+=p,a+=m,o+=d,s++)}return o?[Math.round(r/o),Math.round(i/o),Math.round(a/o),Math.round(o/s)]:n.defaultColor}function Oe(e,t,n){for(var r=0,i=0,a=0,o=0,s=0,c=n.ignoredColor,l=n.step,u=0;u<t;u+=l){var d=e[u],f=e[u+1],p=e[u+2],m=e[u+3];c&&ye(e,u,c)||(r+=d*d*m,i+=f*f*m,a+=p*p*m,o+=m,s++)}return o?[Math.round(Math.sqrt(r/o)),Math.round(Math.sqrt(i/o)),Math.round(Math.sqrt(a/o)),Math.round(o/s)]:n.defaultColor}function ke(e){return Ae(e,`defaultColor`,[0,0,0,0])}function Ae(e,t,n){return e[t]===void 0?n:e[t]}var je=10,Me=100;function Ne(e){return e.search(/\.svg(\?|$)/i)!==-1}function Pe(e){if(Ie(e)){var t=e.naturalWidth,n=e.naturalHeight;return!e.naturalWidth&&Ne(e.src)&&(t=n=Me),{width:t,height:n}}return ze(e)?{width:e.videoWidth,height:e.videoHeight}:Be(e)?{width:e.codedWidth,height:e.codedHeight}:{width:e.width,height:e.height}}function Fe(e){return Ve(e)?`canvas`:Re(e)?`offscreencanvas`:Be(e)?`videoframe`:He(e)?`imagebitmap`:e.src}function Ie(e){return typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement}var Le=typeof OffscreenCanvas<`u`;function Re(e){return Le&&e instanceof OffscreenCanvas}function ze(e){return typeof HTMLVideoElement<`u`&&e instanceof HTMLVideoElement}function Be(e){return typeof VideoFrame<`u`&&e instanceof VideoFrame}function Ve(e){return typeof HTMLCanvasElement<`u`&&e instanceof HTMLCanvasElement}function He(e){return typeof ImageBitmap<`u`&&e instanceof ImageBitmap}function Ue(e,t){var n=Ae(t,`left`,0),r=Ae(t,`top`,0),i=Ae(t,`width`,e.width),a=Ae(t,`height`,e.height),o=i,s=a;if(t.mode===`precision`)return{srcLeft:n,srcTop:r,srcWidth:i,srcHeight:a,destWidth:o,destHeight:s};var c;return i>a?(c=i/a,o=Me,s=Math.round(o/c)):(c=a/i,s=Me,o=Math.round(s/c)),(o>i||s>a||o<je||s<je)&&(o=i,s=a),{srcLeft:n,srcTop:r,srcWidth:i,srcHeight:a,destWidth:o,destHeight:s}}var We=typeof window>`u`;function Ge(){return We?Le?new OffscreenCanvas(1,1):null:document.createElement(`canvas`)}var Ke=`FastAverageColor: `;function Y(e){return Error(Ke+e)}function qe(e,t){t||console.error(e)}var Je=function(){function e(){this.canvas=null,this.ctx=null}return e.prototype.getColorAsync=function(e,t){if(!e)return Promise.reject(Y(`call .getColorAsync() without resource`));if(typeof e==`string`){if(typeof Image>`u`)return Promise.reject(Y(`resource as string is not supported in this environment`));var n=new Image;return n.crossOrigin=t&&t.crossOrigin||``,n.src=e,this.bindImageEvents(n,t)}else if(Ie(e)&&!e.complete)return this.bindImageEvents(e,t);else{var r=this.getColor(e,t);return r.error?Promise.reject(r.error):Promise.resolve(r)}},e.prototype.getColor=function(e,t){t||={};var n=ke(t);if(!e){var r=Y(`call .getColor() without resource`);return qe(r,t.silent),this.prepareResult(n,r)}var i=Ue(Pe(e),t);if(!i.srcWidth||!i.srcHeight||!i.destWidth||!i.destHeight){var r=Y(`incorrect sizes for resource "${Fe(e)}"`);return qe(r,t.silent),this.prepareResult(n,r)}if(!this.canvas&&(this.canvas=Ge(),!this.canvas)){var r=Y(`OffscreenCanvas is not supported in this browser`);return qe(r,t.silent),this.prepareResult(n,r)}if(!this.ctx){if(this.ctx=this.canvas.getContext(`2d`,{willReadFrequently:!0}),!this.ctx){var r=Y(`Canvas Context 2D is not supported in this browser`);return qe(r,t.silent),this.prepareResult(n)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=i.destWidth,this.canvas.height=i.destHeight;try{this.ctx.clearRect(0,0,i.destWidth,i.destHeight),this.ctx.drawImage(e,i.srcLeft,i.srcTop,i.srcWidth,i.srcHeight,0,0,i.destWidth,i.destHeight);var a=this.ctx.getImageData(0,0,i.destWidth,i.destHeight).data;return this.prepareResult(this.getColorFromArray4(a,t))}catch(i){var r=Y(`security error (CORS) for resource ${Fe(e)}.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`);return qe(r,t.silent),t.silent||console.error(i),this.prepareResult(n,r)}},e.prototype.getColorFromArray4=function(e,t){t||={};var n=4,r=e.length,i=ke(t);if(r<n)return i;var a=r-r%n,o=(t.step||1)*n,s;switch(t.algorithm||`sqrt`){case`simple`:s=De;break;case`sqrt`:s=Oe;break;case`dominant`:s=Ee;break;default:throw Y(`${t.algorithm} is unknown algorithm`)}return s(e,a,{defaultColor:i,ignoredColor:_e(t.ignoredColor),step:o,dominantDivider:t.dominantDivider})},e.prototype.prepareResult=function(e,t){var n=e.slice(0,3),r=[e[0],e[1],e[2],e[3]/255],i=ge(e);return{value:[e[0],e[1],e[2],e[3]],rgb:`rgb(`+n.join(`,`)+`)`,rgba:`rgba(`+r.join(`,`)+`)`,hex:he(n),hexa:he(e),isDark:i,isLight:!i,error:t}},e.prototype.destroy=function(){this.canvas&&=(this.canvas.width=1,this.canvas.height=1,null),this.ctx=null},e.prototype.bindImageEvents=function(e,t){var n=this;return new Promise(function(r,i){var a=function(){c();var a=n.getColor(e,t);a.error?i(a.error):r(a)},o=function(){c(),i(Y(`Error loading image "${e.src}"`))},s=function(){c(),i(Y(`Image "${e.src}" loading aborted`))},c=function(){e.removeEventListener(`load`,a),e.removeEventListener(`error`,o),e.removeEventListener(`abort`,s)};e.addEventListener(`load`,a),e.addEventListener(`error`,o),e.addEventListener(`abort`,s)})},e}(),X=k(y());const Ye=e=>{let[t,n]=(0,X.useState)(`var(--mantine-color-text)`);return(0,X.useEffect)(()=>{e&&(async()=>{let t=new Image;t.src=e,t.crossOrigin=`anonymous`,await new Promise(e=>{t.onload=e});let r=t.width,i=Math.ceil(t.height*.2),a=typeof OffscreenCanvas<`u`?new OffscreenCanvas(r,i):document.createElement(`canvas`),o=a.getContext(`2d`);if(!o)return;o.drawImage(t,0,t.height-i,r,i,0,0,r,i);let s=await new Je().getColorAsync(a);s.value[3]<128?n(`var(--mantine-color-text)`):n(s.isDark?`white`:`black`)})()},[e]),t};var Z=k(B()),Xe=`9rem`;const Ze=({game:e,...t})=>{let{t:n}=z(),{locale:r}=m(),{title:i,poster:a}=e,{startTime:o,endTime:s,status:h}=c(e),g=D(),_=l.get(h),y=h===u.OnGoing?s.diff((0,pe.default)(),`h`):s.diff(o,`h`),b=Ye(a);return(0,Z.jsxs)(d,{...t,shadow:`sm`,component:ie,to:`/games/${e.id}`,classNames:{root:p.hoverCard},children:[(0,Z.jsx)(d.Section,{pos:`relative`,children:a?(0,Z.jsx)(f,{src:a,h:Xe,alt:`poster`}):(0,Z.jsx)(v,{mih:Xe,children:(0,Z.jsx)(fe.Icon,{path:G,size:4,color:g.colors.gray[5]})})}),(0,Z.jsx)(d.Section,{inheritPadding:!0,pos:`relative`,mt:`calc(16px - ${Xe})`,className:p.alignEnd,children:(0,Z.jsx)(H,{wrap:`nowrap`,gap:`xs`,justify:`right`,children:(0,Z.jsx)(C,{size:`xs`,color:_,variant:`filled`,children:h})})}),(0,Z.jsx)(d.Section,{h:34,pos:`relative`,mt:`calc(${Xe} - 2rem - 34px)`,display:`flex`,p:`0 16px`,className:p.alignCenter,children:(0,Z.jsxs)(A,{lineClamp:1,order:4,ta:`left`,c:b,children:[`> `,i]})}),(0,Z.jsxs)(V,{gap:0,mt:16,children:[(0,Z.jsxs)(H,{wrap:`nowrap`,gap:0,justify:`space-between`,children:[(0,Z.jsx)(E,{size:`sm`,fw:`bold`,children:h===u.Coming?n(`game.content.start_at`):n(`game.content.end_at`)}),(0,Z.jsx)(C,{size:`xs`,color:_,variant:`light`,children:h===u.Coming?(0,pe.default)(o).locale(r).format(`L LT`):(0,pe.default)(s).locale(r).format(`L LT`)})]}),(0,Z.jsxs)(H,{wrap:`nowrap`,gap:0,justify:`space-between`,children:[(0,Z.jsx)(E,{size:`sm`,fw:`bold`,children:h===u.OnGoing?n(`game.content.remaining_time`):n(`game.content.total_time`)}),(0,Z.jsx)(C,{size:`xs`,color:_,variant:`light`,children:n(`game.content.duration`,{hours:y})})]})]})]})};var Qe=k(O()),$e=k(x());const et=({post:e,onTogglePinned:n})=>{let{role:r}=t(),[i,a]=(0,X.useState)(!1),{t:o}=z(),s=ce(),c=D();return(0,Z.jsx)(d,{shadow:`sm`,p:`sm`,children:(0,Z.jsxs)(V,{gap:`xs`,children:[(0,Z.jsxs)(j,{onClick:()=>s(`/posts/${e.id}`),children:[(0,Z.jsxs)(A,{order:3,pb:4,children:[(0,Z.jsx)(E,{fw:`bold`,fz:`h3`,span:!0,c:c.primaryColor,children:e.isPinned?`${o(`post.content.pinned`)} `:`>>> `}),e.title]}),(0,Z.jsx)(le,{source:e.summary})]}),(0,Z.jsxs)(H,{justify:`space-between`,children:[e.tags&&(0,Z.jsx)(H,{justify:`left`,children:e.tags.map((e,t)=>(0,Z.jsx)(E,{size:`sm`,fw:`bold`,span:!0,c:c.primaryColor,children:`#${e}`},t))}),ue(T.Admin,r)&&(0,Z.jsxs)(H,{justify:`right`,children:[n&&(0,Z.jsx)(R,{disabled:i,onClick:()=>n(e,a),children:e.isPinned?(0,Z.jsx)(Qe.Icon,{path:`M8,6.2V4H7V2H17V4H16V12L18,14V16H17.8L14,12.2V4H10V8.2L8,6.2M20,20.7L18.7,22L12.8,16.1V22H11.2V16H6V14L8,12V11.3L2,5.3L3.3,4L20,20.7M8.8,14H10.6L9.7,13.1L8.8,14Z`,size:1}):(0,Z.jsx)(Qe.Icon,{path:`M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12M8.8,14L10,12.8V4H14V12.8L15.2,14H8.8Z`,size:1})}),(0,Z.jsx)(R,{component:ie,to:`/posts/${e.id}/edit`,children:(0,Z.jsx)(Qe.Icon,{path:`M14.06,9L15,9.94L5.92,19H5V18.08L14.06,9M17.66,3C17.41,3 17.15,3.1 16.96,3.29L15.13,5.12L18.88,8.87L20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18.17,3.09 17.92,3 17.66,3M14.06,6.19L3,17.25V21H6.75L17.81,9.94L14.06,6.19Z`,size:1})})]})]}),(0,Z.jsxs)(H,{gap:5,justify:`left`,children:[(0,Z.jsx)(M,{alt:`avatar`,src:e.authorAvatar,size:`sm`,children:e.authorName?.slice(0,1)??`A`}),(0,Z.jsx)(E,{fw:500,size:`sm`,children:o(`post.content.metadata`,{author:e.authorName??`Anonym`,date:(0,$e.default)(e.time).format(`lll`)})})]})]})})};function tt(e){return Object.prototype.toString.call(e)===`[object Object]`}function nt(e){return tt(e)||Array.isArray(e)}function rt(){return!!(typeof window<`u`&&window.document&&window.document.createElement)}function it(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||JSON.stringify(Object.keys(e.breakpoints||{}))!==JSON.stringify(Object.keys(t.breakpoints||{}))?!1:n.every(n=>{let r=e[n],i=t[n];return typeof r==`function`?`${r}`==`${i}`:!nt(r)||!nt(i)?r===i:it(r,i)})}function at(e){return e.concat().sort((e,t)=>e.name>t.name?1:-1).map(e=>e.options)}function ot(e,t){if(e.length!==t.length)return!1;let n=at(e),r=at(t);return n.every((e,t)=>{let n=r[t];return it(e,n)})}function st(e){return typeof e==`number`}function ct(e){return typeof e==`string`}function lt(e){return typeof e==`boolean`}function ut(e){return Object.prototype.toString.call(e)===`[object Object]`}function Q(e){return Math.abs(e)}function dt(e){return Math.sign(e)}function ft(e,t){return Q(e-t)}function pt(e,t){return e===0||t===0||Q(e)<=Q(t)?0:Q(ft(Q(e),Q(t))/e)}function mt(e){return Math.round(e*100)/100}function ht(e){return yt(e).map(Number)}function $(e){return e[gt(e)]}function gt(e){return Math.max(0,e.length-1)}function _t(e,t){return t===gt(e)}function vt(e,t=0){return Array.from(Array(e),(e,n)=>t+n)}function yt(e){return Object.keys(e)}function bt(e,t){return[e,t].reduce((e,t)=>(yt(t).forEach(n=>{let r=e[n],i=t[n];e[n]=ut(r)&&ut(i)?bt(r,i):i}),e),{})}function xt(e,t){return t.MouseEvent!==void 0&&e instanceof t.MouseEvent}function St(e,t){let n={start:r,center:i,end:a};function r(){return 0}function i(e){return a(e)/2}function a(e){return t-e}function o(r,i){return ct(e)?n[e](r):e(t,r,i)}return{measure:o}}function Ct(){let e=[];function t(t,n,i,a={passive:!0}){let o;if(`addEventListener`in t)t.addEventListener(n,i,a),o=()=>t.removeEventListener(n,i,a);else{let e=t;e.addListener(i),o=()=>e.removeListener(i)}return e.push(o),r}function n(){e=e.filter(e=>e())}let r={add:t,clear:n};return r}function wt(e,t,n,r){let i=Ct(),a=1e3/60,o=null,s=0,c=0;function l(){i.add(e,`visibilitychange`,()=>{e.hidden&&m()})}function u(){p(),i.clear()}function d(e){if(!c)return;o||(o=e,n(),n());let i=e-o;for(o=e,s+=i;s>=a;)n(),s-=a;r(s/a),c&&=t.requestAnimationFrame(d)}function f(){c||=t.requestAnimationFrame(d)}function p(){t.cancelAnimationFrame(c),o=null,s=0,c=0}function m(){o=null,s=0}return{init:l,destroy:u,start:f,stop:p,update:n,render:r}}function Tt(e,t){let n=t===`rtl`,r=e===`y`,i=r?`y`:`x`,a=r?`x`:`y`,o=!r&&n?-1:1,s=u(),c=d();function l(e){let{height:t,width:n}=e;return r?t:n}function u(){return r?`top`:n?`right`:`left`}function d(){return r?`bottom`:n?`left`:`right`}function f(e){return e*o}return{scroll:i,cross:a,startEdge:s,endEdge:c,measureSize:l,direction:f}}function Et(e=0,t=0){let n=Q(e-t);function r(t){return t<e}function i(e){return e>t}function a(e){return r(e)||i(e)}function o(n){return a(n)?r(n)?e:t:n}function s(e){return n?e-n*Math.ceil((e-t)/n):e}return{length:n,max:t,min:e,constrain:o,reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:s}}function Dt(e,t,n){let{constrain:r}=Et(0,e),i=e+1,a=o(t);function o(e){return n?Q((i+e)%i):r(e)}function s(){return a}function c(e){return a=o(e),d}function l(e){return u().set(s()+e)}function u(){return Dt(e,s(),n)}let d={get:s,set:c,add:l,clone:u};return d}function Ot(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v){let{cross:y,direction:b}=e,x=[`INPUT`,`SELECT`,`TEXTAREA`],S={passive:!1},C=Ct(),w=Ct(),T=Et(50,225).constrain(p.measure(20)),E={mouse:300,touch:400},D={mouse:500,touch:600},O=m?43:25,k=!1,A=0,ee=0,te=!1,j=!1,M=!1,N=!1;function ne(e){if(!v)return;function n(t){(lt(v)||v(e,t))&&L(t)}let r=t;C.add(r,`dragstart`,e=>e.preventDefault(),S).add(r,`touchmove`,()=>void 0,S).add(r,`touchend`,()=>void 0).add(r,`touchstart`,n).add(r,`mousedown`,n).add(r,`touchcancel`,z).add(r,`contextmenu`,z).add(r,`click`,ae,!0)}function P(){C.clear(),w.clear()}function F(){let e=N?n:t;w.add(e,`touchmove`,R,S).add(e,`touchend`,z).add(e,`mousemove`,R,S).add(e,`mouseup`,z)}function re(e){let t=e.nodeName||``;return x.includes(t)}function ie(){return(m?D:E)[N?`mouse`:`touch`]}function I(e,t){let n=d.add(dt(e)*-1),r=u.byDistance(e,!m).distance;return m||Q(e)<T?r:g&&t?r*.5:u.byIndex(n.get(),0).distance}function L(e){let t=xt(e,r);N=t,M=m&&t&&!e.buttons&&k,k=ft(i.get(),o.get())>=2,!(t&&e.button!==0)&&(re(e.target)||(te=!0,a.pointerDown(e),l.useFriction(0).useDuration(0),i.set(o),F(),A=a.readPoint(e),ee=a.readPoint(e,y),f.emit(`pointerDown`)))}function R(e){if(!xt(e,r)&&e.touches.length>=2)return z(e);let t=a.readPoint(e),n=a.readPoint(e,y),o=ft(t,A),c=ft(n,ee);if(!j&&!N&&(!e.cancelable||(j=o>c,!j)))return z(e);let u=a.pointerMove(e);o>h&&(M=!0),l.useFriction(.3).useDuration(.75),s.start(),i.add(b(u)),e.preventDefault()}function z(e){let t=u.byDistance(0,!1).index!==d.get(),n=a.pointerUp(e)*ie(),r=I(b(n),t),i=pt(n,r),o=O-10*i,s=_+i/50;j=!1,te=!1,w.clear(),l.useDuration(o).useFriction(s),c.distance(r,!m),N=!1,f.emit(`pointerUp`)}function ae(e){M&&=(e.stopPropagation(),e.preventDefault(),!1)}function B(){return te}return{init:ne,destroy:P,pointerDown:B}}function kt(e,t){let n,r;function i(e){return e.timeStamp}function a(n,r){let i=`client${(r||e.scroll)===`x`?`X`:`Y`}`;return(xt(n,t)?n:n.touches[0])[i]}function o(e){return n=e,r=e,a(e)}function s(e){let t=a(e)-a(r),o=i(e)-i(n)>170;return r=e,o&&(n=e),t}function c(e){if(!n||!r)return 0;let t=a(r)-a(n),o=i(e)-i(n),s=i(e)-i(r)>170,c=t/o;return o&&!s&&Q(c)>.1?c:0}return{pointerDown:o,pointerMove:s,pointerUp:c,readPoint:a}}function At(){function e(e){let{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:i}=e;return{top:t,right:n+r,bottom:t+i,left:n,width:r,height:i}}return{measure:e}}function jt(e){function t(t){return e*(t/100)}return{measure:t}}function Mt(e,t,n,r,i,a,o){let s=[e].concat(r),c,l,u=[],d=!1;function f(e){return i.measureSize(o.measure(e))}function p(i){if(!a)return;l=f(e),u=r.map(f);function o(n){for(let a of n){if(d)return;let n=a.target===e,o=r.indexOf(a.target),s=n?l:u[o];if(Q(f(n?e:r[o])-s)>=.5){i.reInit(),t.emit(`resize`);break}}}c=new ResizeObserver(e=>{(lt(a)||a(i,e))&&o(e)}),n.requestAnimationFrame(()=>{s.forEach(e=>c.observe(e))})}function m(){d=!0,c&&c.disconnect()}return{init:p,destroy:m}}function Nt(e,t,n,r,i,a){let o=0,s=0,c=i,l=a,u=e.get(),d=0;function f(){let t=r.get()-e.get(),i=!c,a=0;return i?(o=0,n.set(r),e.set(r),a=t):(n.set(e),o+=t/c,o*=l,u+=o,e.add(o),a=u-d),s=dt(a),d=u,x}function p(){return Q(r.get()-t.get())<.001}function m(){return c}function h(){return s}function g(){return o}function _(){return y(i)}function v(){return b(a)}function y(e){return c=e,x}function b(e){return l=e,x}let x={direction:h,duration:m,velocity:g,seek:f,settled:p,useBaseFriction:v,useBaseDuration:_,useFriction:b,useDuration:y};return x}function Pt(e,t,n,r,i){let a=i.measure(10),o=i.measure(50),s=Et(.1,.99),c=!1;function l(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function u(i){if(!l())return;let c=Q(e[e.reachedMin(t.get())?`min`:`max`]-t.get()),u=n.get()-t.get(),d=s.constrain(c/o);n.subtract(u*d),!i&&Q(u)<a&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(e){c=!e}return{shouldConstrain:l,constrain:u,toggleActive:d}}function Ft(e,t,n,r,i){let a=Et(-t+e,0),o=d(),s=u(),c=f();function l(e,t){return ft(e,t)<=1}function u(){let e=o[0],t=$(o);return Et(o.lastIndexOf(e),o.indexOf(t)+1)}function d(){return n.map((e,t)=>{let{min:r,max:i}=a,o=a.constrain(e),s=!t,c=_t(n,t);return s?i:c||l(r,o)?r:l(i,o)?i:o}).map(e=>parseFloat(e.toFixed(3)))}function f(){if(t<=e+i)return[a.max];if(r===`keepSnaps`)return o;let{min:n,max:c}=s;return o.slice(n,c)}return{snapsContained:c,scrollContainLimit:s}}function It(e,t,n){let r=t[0];return{limit:Et(n?r-e:$(t),r)}}function Lt(e,t,n,r){let i=.1,{reachedMin:a,reachedMax:o}=Et(t.min+i,t.max+i);function s(e){return e===1?o(n.get()):e===-1?a(n.get()):!1}function c(t){if(!s(t))return;let n=e*(t*-1);r.forEach(e=>e.add(n))}return{loop:c}}function Rt(e){let{max:t,length:n}=e;function r(e){let r=e-t;return n?r/-n:0}return{get:r}}function zt(e,t,n,r,i){let{startEdge:a,endEdge:o}=e,{groupSlides:s}=i,c=d().map(t.measure),l=f(),u=p();function d(){return s(r).map(e=>$(e)[o]-e[0][a]).map(Q)}function f(){return r.map(e=>n[a]-e[a]).map(e=>-Q(e))}function p(){return s(l).map(e=>e[0]).map((e,t)=>e+c[t])}return{snaps:l,snapsAligned:u}}function Bt(e,t,n,r,i,a){let{groupSlides:o}=i,{min:s,max:c}=r,l=u();function u(){let r=o(a),i=!e||t===`keepSnaps`;return n.length===1?[a]:i?r:r.slice(s,c).map((e,t,n)=>{let r=!t,i=_t(n,t);return r?vt($(n[0])+1):i?vt(gt(a)-$(n)[0]+1,$(n)[0]):e})}return{slideRegistry:l}}function Vt(e,t,n,r,i){let{reachedAny:a,removeOffset:o,constrain:s}=r;function c(e){return e.concat().sort((e,t)=>Q(e)-Q(t))[0]}function l(n){let r=e?o(n):s(n),{index:i}=t.map((e,t)=>({diff:u(e-r,0),index:t})).sort((e,t)=>Q(e.diff)-Q(t.diff))[0];return{index:i,distance:r}}function u(t,r){let i=[t,t+n,t-n];if(!e)return t;if(!r)return c(i);let a=i.filter(e=>dt(e)===r);return a.length?c(a):$(i)-n}function d(e,n){return{index:e,distance:u(t[e]-i.get(),n)}}function f(n,r){let o=i.get()+n,{index:s,distance:c}=l(o),d=!e&&a(o);return!r||d?{index:s,distance:n}:{index:s,distance:n+u(t[s]-c,0)}}return{byDistance:f,byIndex:d,shortcut:u}}function Ht(e,t,n,r,i,a,o){function s(i){let s=i.distance,c=i.index!==t.get();a.add(s),s&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),c&&(n.set(t.get()),t.set(i.index),o.emit(`select`))}function c(e,t){s(i.byDistance(e,t))}function l(e,n){let r=t.clone().set(e);s(i.byIndex(r.get(),n))}return{distance:c,index:l}}function Ut(e,t,n,r,i,a,o,s){let c={passive:!0,capture:!0},l=0;function u(u){if(!s)return;function f(t){if(new Date().getTime()-l>10)return;o.emit(`slideFocusStart`),e.scrollLeft=0;let a=n.findIndex(e=>e.includes(t));st(a)&&(i.useDuration(0),r.index(a,0),o.emit(`slideFocus`))}a.add(document,`keydown`,d,!1),t.forEach((e,t)=>{a.add(e,`focus`,e=>{(lt(s)||s(u,e))&&f(t)},c)})}function d(e){e.code===`Tab`&&(l=new Date().getTime())}return{init:u}}function Wt(e){let t=e;function n(){return t}function r(e){t=o(e)}function i(e){t+=o(e)}function a(e){t-=o(e)}function o(e){return st(e)?e:e.get()}return{get:n,set:r,add:i,subtract:a}}function Gt(e,t){let n=e.scroll===`x`?o:s,r=t.style,i=null,a=!1;function o(e){return`translate3d(${e}px,0px,0px)`}function s(e){return`translate3d(0px,${e}px,0px)`}function c(t){if(a)return;let o=mt(e.direction(t));o!==i&&(r.transform=n(o),i=o)}function l(e){a=!e}function u(){a||(r.transform=``,t.getAttribute(`style`)||t.removeAttribute(`style`))}return{clear:u,to:c,toggleActive:l}}function Kt(e,t,n,r,i,a,o,s,c){let l=.5,u=ht(i),d=ht(i).reverse(),f=_().concat(v());function p(e,t){return e.reduce((e,t)=>e-i[t],t)}function m(e,t){return e.reduce((e,n)=>p(e,t)>0?e.concat([n]):e,[])}function h(e){return a.map((n,i)=>({start:n-r[i]+l+e,end:n+t-l+e}))}function g(t,r,i){let a=h(r);return t.map(t=>{let r=i?0:-n,o=i?n:0,l=i?`end`:`start`,u=a[t][l];return{index:t,loopPoint:u,slideLocation:Wt(-1),translate:Gt(e,c[t]),target:()=>s.get()>u?r:o}})}function _(){let e=o[0];return g(m(d,e),n,!1)}function v(){return g(m(u,t-o[0]-1),-n,!0)}function y(){return f.every(({index:e})=>p(u.filter(t=>t!==e),t)<=.1)}function b(){f.forEach(e=>{let{target:t,translate:n,slideLocation:r}=e,i=t();i!==r.get()&&(n.to(i),r.set(i))})}function x(){f.forEach(e=>e.translate.clear())}return{canLoop:y,clear:x,loop:b,loopPoints:f}}function qt(e,t,n){let r,i=!1;function a(a){if(!n)return;function o(e){for(let n of e)if(n.type===`childList`){a.reInit(),t.emit(`slidesChanged`);break}}r=new MutationObserver(e=>{i||(lt(n)||n(a,e))&&o(e)}),r.observe(e,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:a,destroy:o}}function Jt(e,t,n,r){let i={},a=null,o=null,s,c=!1;function l(){s=new IntersectionObserver(e=>{c||(e.forEach(e=>{let n=t.indexOf(e.target);i[n]=e}),a=null,o=null,n.emit(`slidesInView`))},{root:e.parentElement,threshold:r}),t.forEach(e=>s.observe(e))}function u(){s&&s.disconnect(),c=!0}function d(e){return yt(i).reduce((t,n)=>{let r=parseInt(n),{isIntersecting:a}=i[r];return(e&&a||!e&&!a)&&t.push(r),t},[])}function f(e=!0){if(e&&a)return a;if(!e&&o)return o;let t=d(e);return e&&(a=t),e||(o=t),t}return{init:l,destroy:u,get:f}}function Yt(e,t,n,r,i,a){let{measureSize:o,startEdge:s,endEdge:c}=e,l=n[0]&&i,u=m(),d=h(),f=n.map(o),p=g();function m(){if(!l)return 0;let e=n[0];return Q(t[s]-e[s])}function h(){if(!l)return 0;let e=a.getComputedStyle($(r));return parseFloat(e.getPropertyValue(`margin-${c}`))}function g(){return n.map((e,t,n)=>{let r=!t,i=_t(n,t);return r?f[t]+u:i?f[t]+d:n[t+1][s]-e[s]}).map(Q)}return{slideSizes:f,slideSizesWithGaps:p,startGap:u,endGap:d}}function Xt(e,t,n,r,i,a,o,s,c){let{startEdge:l,endEdge:u,direction:d}=e,f=st(n);function p(e,t){return ht(e).filter(e=>e%t===0).map(n=>e.slice(n,n+t))}function m(e){return e.length?ht(e).reduce((n,f,p)=>{let m=$(n)||0,h=m===0,g=f===gt(e),_=i[l]-a[m][l],v=i[l]-a[f][u],y=!r&&h?d(o):0,b=Q(v-(!r&&g?d(s):0)-(_+y));return p&&b>t+c&&n.push(f),g&&n.push(e.length),n},[]).map((t,n,r)=>{let i=Math.max(r[n-1]||0);return e.slice(i,t)}):[]}function h(e){return f?p(e,n):m(e)}return{groupSlides:h}}function Zt(e,t,n,r,i,a,o){let{align:s,axis:c,direction:l,startIndex:u,loop:d,duration:f,dragFree:p,dragThreshold:m,inViewThreshold:h,slidesToScroll:g,skipSnaps:_,containScroll:v,watchResize:y,watchSlides:b,watchDrag:x,watchFocus:S}=a,C=At(),w=C.measure(t),T=n.map(C.measure),E=Tt(c,l),D=E.measureSize(w),O=jt(D),k=St(s,D),A=!d&&!!v,{slideSizes:ee,slideSizesWithGaps:te,startGap:j,endGap:M}=Yt(E,w,T,n,d||!!v,i),N=Xt(E,D,g,d,w,T,j,M,2),{snaps:ne,snapsAligned:P}=zt(E,k,w,T,N),F=-$(ne)+$(te),{snapsContained:re,scrollContainLimit:ie}=Ft(D,F,P,v,2),I=A?re:P,{limit:L}=It(F,I,d),R=Dt(gt(I),u,d),z=R.clone(),ae=ht(n),B=({dragHandler:e,scrollBody:t,scrollBounds:n,options:{loop:r}})=>{r||n.constrain(e.pointerDown()),t.seek()},oe=({scrollBody:e,translate:t,location:n,offsetLocation:r,previousLocation:i,scrollLooper:a,slideLooper:o,dragHandler:s,animation:c,eventHandler:l,scrollBounds:u,options:{loop:d}},f)=>{let p=e.settled(),m=!u.shouldConstrain(),h=d?p:p&&m,g=h&&!s.pointerDown();g&&c.stop();let _=n.get()*f+i.get()*(1-f);r.set(_),d&&(a.loop(e.direction()),o.loop()),t.to(r.get()),g&&l.emit(`settle`),h||l.emit(`scroll`)},V=wt(r,i,()=>B(me),e=>oe(me,e)),H=.68,se=I[R.get()],ce=Wt(se),U=Wt(se),W=Wt(se),G=Wt(se),K=Nt(ce,W,U,G,f,H),q=Vt(d,I,F,L,G),J=Ht(V,R,z,K,q,G,o),le=Rt(L),ue=Ct(),de=Jt(t,n,o,h),{slideRegistry:fe}=Bt(A,v,I,ie,N,ae),pe=Ut(e,n,fe,J,K,ue,o,S),me={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:w,slideRects:T,animation:V,axis:E,dragHandler:Ot(E,e,r,i,G,kt(E,i),ce,V,J,K,q,R,o,O,p,m,_,H,x),eventStore:ue,percentOfView:O,index:R,indexPrevious:z,limit:L,location:ce,offsetLocation:W,previousLocation:U,options:a,resizeHandler:Mt(t,o,i,n,E,y,C),scrollBody:K,scrollBounds:Pt(L,W,G,K,O),scrollLooper:Lt(F,L,W,[ce,W,U,G]),scrollProgress:le,scrollSnapList:I.map(le.get),scrollSnaps:I,scrollTarget:q,scrollTo:J,slideLooper:Kt(E,D,F,ee,te,ne,I,W,n),slideFocus:pe,slidesHandler:qt(t,o,b),slidesInView:de,slideIndexes:ae,slideRegistry:fe,slidesToScroll:N,target:G,translate:Gt(E,t)};return me}function Qt(){let e={},t;function n(e){t=e}function r(t){return e[t]||[]}function i(e){return r(e).forEach(n=>n(t,e)),c}function a(t,n){return e[t]=r(t).concat([n]),c}function o(t,n){return e[t]=r(t).filter(e=>e!==n),c}function s(){e={}}let c={init:n,emit:i,off:o,on:a,clear:s};return c}var $t={align:`center`,axis:`x`,container:null,slides:null,containScroll:`trimSnaps`,direction:`ltr`,slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function en(e){function t(e,t){return bt(e,t||{})}function n(n){let r=n.breakpoints||{};return t(n,yt(r).filter(t=>e.matchMedia(t).matches).map(e=>r[e]).reduce((e,n)=>t(e,n),{}))}function r(t){return t.map(e=>yt(e.breakpoints||{})).reduce((e,t)=>e.concat(t),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function tn(e){let t=[];function n(n,r){return t=r.filter(({options:t})=>e.optionsAtMedia(t).active!==!1),t.forEach(t=>t.init(n,e)),r.reduce((e,t)=>Object.assign(e,{[t.name]:t}),{})}function r(){t=t.filter(e=>e.destroy())}return{init:n,destroy:r}}function nn(e,t,n){let r=e.ownerDocument,i=r.defaultView,a=en(i),o=tn(a),s=Ct(),c=Qt(),{mergeOptions:l,optionsAtMedia:u,optionsMediaQueries:d}=a,{on:f,off:p,emit:m}=c,h=D,g=!1,_,v=l($t,nn.globalOptions),y=l(v),b=[],x,S,C;function w(){let{container:t,slides:n}=y;S=(ct(t)?e.querySelector(t):t)||e.children[0];let r=ct(n)?S.querySelectorAll(n):n;C=[].slice.call(r||S.children)}function T(t){let n=Zt(e,S,C,r,i,t,c);return t.loop&&!n.slideLooper.canLoop()?T(Object.assign({},t,{loop:!1})):n}function E(e,t){g||(v=l(v,e),y=u(v),b=t||b,w(),_=T(y),d([v,...b.map(({options:e})=>e)]).forEach(e=>s.add(e,`change`,D)),y.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(B),_.eventHandler.init(B),_.resizeHandler.init(B),_.slidesHandler.init(B),_.options.loop&&_.slideLooper.loop(),S.offsetParent&&C.length&&_.dragHandler.init(B),x=o.init(B,b)))}function D(e,t){let n=P();O(),E(l({startIndex:n},e),t),c.emit(`reInit`)}function O(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),s.clear()}function k(){g||(g=!0,s.clear(),O(),c.emit(`destroy`),c.clear())}function A(e,t,n){!y.active||g||(_.scrollBody.useBaseFriction().useDuration(t===!0?0:y.duration),_.scrollTo.index(e,n||0))}function ee(e){A(_.index.add(1).get(),e,-1)}function te(e){A(_.index.add(-1).get(),e,1)}function j(){return _.index.add(1).get()!==P()}function M(){return _.index.add(-1).get()!==P()}function N(){return _.scrollSnapList}function ne(){return _.scrollProgress.get(_.offsetLocation.get())}function P(){return _.index.get()}function F(){return _.indexPrevious.get()}function re(){return _.slidesInView.get()}function ie(){return _.slidesInView.get(!1)}function I(){return x}function L(){return _}function R(){return e}function z(){return S}function ae(){return C}let B={canScrollNext:j,canScrollPrev:M,containerNode:z,internalEngine:L,destroy:k,off:p,on:f,emit:m,plugins:I,previousScrollSnap:F,reInit:h,rootNode:R,scrollNext:ee,scrollPrev:te,scrollProgress:ne,scrollSnapList:N,scrollTo:A,selectedScrollSnap:P,slideNodes:ae,slidesInView:re,slidesNotInView:ie};return E(t,n),setTimeout(()=>c.emit(`init`),0),B}nn.globalOptions=void 0;function rn(e={},t=[]){let n=(0,X.useRef)(e),r=(0,X.useRef)(t),[i,a]=(0,X.useState)(),[o,s]=(0,X.useState)(),c=(0,X.useCallback)(()=>{i&&i.reInit(n.current,r.current)},[i]);return(0,X.useEffect)(()=>{it(n.current,e)||(n.current=e,c())},[e,c]),(0,X.useEffect)(()=>{ot(r.current,t)||(r.current=t,c())},[t,c]),(0,X.useEffect)(()=>{if(rt()&&o){nn.globalOptions=rn.globalOptions;let e=nn(o,n.current,r.current);return a(e),()=>e.destroy()}else a(void 0)},[o,a]),[s,i]}rn.globalOptions=void 0;var[an,on]=se(`Carousel component was not found in tree`),sn={root:`m_17884d0f`,viewport:`m_a2dae653`,container:`m_fcd81474`,controls:`m_39bc3463`,control:`m_64f58e10`,indicators:`m_71ea3ab1`,indicator:`m_eae68602`,slide:`m_d98df724`},cn=K((e,t)=>{let{classNames:n,className:r,style:i,styles:a,vars:o,mod:s,...c}=oe(`CarouselSlide`,null,e),l=on();return(0,Z.jsx)(j,{ref:t,mod:[{orientation:l.orientation},s],...l.getStyles(`slide`,{className:r,style:i,classNames:n,styles:a}),...c})});cn.classes=sn,cn.displayName=`@mantine/carousel/CarouselSlide`;function ln({slideGap:t,slideSize:r,selector:i}){let a=D(),o=P({"--carousel-slide-gap":U(n(t)),"--carousel-slide-size":J(n(r))}),s=q(a.breakpoints).reduce((e,n)=>(e[n]||(e[n]={}),typeof t==`object`&&t[n]!==void 0&&(e[n][`--carousel-slide-gap`]=U(t[n])),typeof r==`object`&&r[n]!==void 0&&(e[n][`--carousel-slide-size`]=U(r[n])),e),{});return(0,Z.jsx)(g,{styles:o,media:e(q(s),a.breakpoints).filter(e=>q(s[e.value]).length>0).map(e=>({query:`(min-width: ${a.breakpoints[e.value]})`,styles:s[e.value]})),selector:i})}function un(e){return typeof e==`object`&&e?q(e):[]}function dn(e){return e.sort((e,t)=>L(e)-L(t))}function fn({slideGap:e,slideSize:t}){return dn(Array.from(new Set([...un(e),...un(t)])))}function pn({slideGap:e,slideSize:t,selector:r}){let i=P({"--carousel-slide-gap":U(n(e)),"--carousel-slide-size":J(n(t))}),a=fn({slideGap:e,slideSize:t}).reduce((n,r)=>(n[r]||(n[r]={}),typeof e==`object`&&e[r]!==void 0&&(n[r][`--carousel-slide-gap`]=U(e[r])),typeof t==`object`&&t[r]!==void 0&&(n[r][`--carousel-slide-size`]=U(t[r])),n),{});return(0,Z.jsx)(g,{styles:i,container:Object.keys(a).map(e=>({query:`carousel (min-width: ${e})`,styles:a[e]})),selector:r})}function mn({dir:e,orientation:t,direction:n}){return n===`previous`?t===`horizontal`?90*(e===`ltr`?1:-1):-180:t===`horizontal`?90*(e===`ltr`?-1:1):0}var hn={controlSize:26,controlsOffset:`sm`,slideSize:`100%`,slideGap:0,orientation:`horizontal`,includeGapInSize:!0,initialSlide:0,withControls:!0,withIndicators:!1,withKeyboardEvents:!0,type:`media`},gn={align:`center`,loop:!1,slidesToScroll:1,dragFree:!1,inViewThreshold:0,skipSnaps:!1,containScroll:`trimSnaps`},_n=S((e,{height:t,controlSize:n,controlsOffset:r})=>({root:{"--carousel-height":J(t),"--carousel-control-size":J(n),"--carousel-controls-offset":U(r)}})),vn=K((e,t)=>{let n=oe(`Carousel`,hn,e),{classNames:r,className:a,style:o,styles:s,unstyled:c,vars:l,children:u,getEmblaApi:d,onNextSlide:f,onPreviousSlide:p,onSlideChange:m,nextControlProps:h,previousControlProps:g,controlSize:_,controlsOffset:v,slideSize:y,slideGap:x,orientation:S,height:C,includeGapInSize:w,draggable:T,initialSlide:E,withControls:D,withIndicators:O,plugins:k,nextControlIcon:A,previousControlIcon:M,withKeyboardEvents:ne,mod:P,type:F,emblaOptions:re,attributes:ie,...I}=n,L=ee({name:`Carousel`,classes:sn,props:n,className:a,style:o,classNames:r,styles:s,unstyled:c,attributes:ie,vars:l,varsResolver:_n}),R=b(),{dir:z}=te(),[ae,B]=rn({axis:S===`horizontal`?`x`:`y`,direction:S===`horizontal`?z:void 0,startIndex:E,...gn,...re},k),[V,H]=(0,X.useState)(0),[se,ce]=(0,X.useState)(0),U=(0,X.useCallback)(e=>B&&B.scrollTo(e),[B]),G=(0,X.useCallback)(()=>{if(!B)return;let e=B.selectedScrollSnap();H(e),e!==V&&m?.(e)},[B,H,m,V]),K=(0,X.useCallback)(()=>{B?.scrollPrev(),p?.()},[B]),q=(0,X.useCallback)(()=>{B?.scrollNext(),f?.()},[B]),J=(0,X.useCallback)(e=>{ne&&(e.key===`ArrowRight`&&(e.preventDefault(),q()),e.key===`ArrowLeft`&&(e.preventDefault(),K()))},[B]);(0,X.useEffect)(()=>{if(B)return d?.(B),G(),ce(B.scrollSnapList().length),B.on(`select`,G),()=>{B.off(`select`,G)}},[B,re?.slidesToScroll,G]),(0,X.useEffect)(()=>{B&&(B.reInit(),ce(B.scrollSnapList().length),H(e=>i(e,0,X.Children.toArray(u).length-1)))},[X.Children.toArray(u).length,re?.slidesToScroll]);let le=B?.canScrollPrev()||!1,ue=B?.canScrollNext()||!1,de=Array(se).fill(0).map((e,t)=>(0,X.createElement)(W,{...L(`indicator`),key:t,"data-active":t===V||void 0,"aria-hidden":!0,tabIndex:-1,onClick:()=>U(t),"data-orientation":S,onMouseDown:e=>e.preventDefault()}));return(0,Z.jsxs)(an,{value:{getStyles:L,orientation:S},children:[F===`container`?(0,Z.jsx)(pn,{...n,selector:`.${R}`}):(0,Z.jsx)(ln,{...n,selector:`.${R}`}),(0,Z.jsxs)(j,{ref:t,...L(`root`,{className:`responsiveClassName`}),...I,mod:[{orientation:S,"include-gap-in-size":w},P],onKeyDownCapture:J,children:[(0,Z.jsx)(`div`,{...L(`viewport`),ref:ae,"data-type":F,children:(0,Z.jsx)(`div`,{...L(`container`,{className:R}),"data-orientation":S,children:u})}),O&&(0,Z.jsx)(`div`,{...L(`indicators`),"data-orientation":S,children:de}),D&&(0,Z.jsxs)(`div`,{...L(`controls`),"data-orientation":S,children:[(0,Z.jsx)(W,{...g,...L(`control`,{className:g?.className,style:g?.style}),onClick:e=>{K(),g?.onClick?.(e)},"data-inactive":!le||void 0,"data-type":`previous`,tabIndex:le?0:-1,children:M===void 0?(0,Z.jsx)(N,{style:{transform:`rotate(${mn({dir:z,orientation:S,direction:`previous`})}deg)`}}):M}),(0,Z.jsx)(W,{...L(`control`,{className:h?.className,style:h?.style}),...h,onClick:e=>{q(),h?.onClick?.(e)},"data-inactive":!ue||void 0,"data-type":`next`,tabIndex:ue?0:-1,children:A===void 0?(0,Z.jsx)(N,{style:{transform:`rotate(${mn({dir:z,orientation:S,direction:`next`})}deg)`}}):A})]})]})]})});vn.classes=sn,vn.displayName=`@mantine/carousel/Carousel`,vn.Slide=cn;var yn={active:!0,breakpoints:{},delay:4e3,jump:!1,playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,stopOnLastSnap:!1,rootNode:null};function bn(e,t){let n=e.scrollSnapList();return typeof t==`number`?n.map(()=>t):t(n,e)}function xn(e,t){let n=e.rootNode();return t&&t(n)||n}function Sn(e={}){let t,n,r,i,a=null,o=0,s=!1,c=!1,l=!1,u=!1;function d(a,o){n=a;let{mergeOptions:s,optionsAtMedia:c}=o;if(t=c(s(s(yn,Sn.globalOptions),e)),n.scrollSnapList().length<=1)return;u=t.jump,r=!1,i=bn(n,t.delay);let{eventStore:l,ownerDocument:d}=n.internalEngine(),f=!!n.internalEngine().options.watchDrag,p=xn(n,t.rootNode);l.add(d,`visibilitychange`,_),f&&n.on(`pointerDown`,y),f&&!t.stopOnInteraction&&n.on(`pointerUp`,b),t.stopOnMouseEnter&&l.add(p,`mouseenter`,x),t.stopOnMouseEnter&&!t.stopOnInteraction&&l.add(p,`mouseleave`,S),t.stopOnFocusIn&&n.on(`slideFocusStart`,g),t.stopOnFocusIn&&!t.stopOnInteraction&&l.add(n.containerNode(),`focusout`,h),t.playOnInit&&h()}function f(){n.off(`pointerDown`,y).off(`pointerUp`,b).off(`slideFocusStart`,g),g(),r=!0,s=!1}function p(){let{ownerWindow:e}=n.internalEngine();e.clearTimeout(o),o=e.setTimeout(D,i[n.selectedScrollSnap()]),a=new Date().getTime(),n.emit(`autoplay:timerset`)}function m(){let{ownerWindow:e}=n.internalEngine();e.clearTimeout(o),o=0,a=null,n.emit(`autoplay:timerstopped`)}function h(){if(!r){if(v()){l=!0;return}s||n.emit(`autoplay:play`),p(),s=!0}}function g(){r||(s&&n.emit(`autoplay:stop`),m(),s=!1)}function _(){if(v())return l=s,g();l&&h()}function v(){let{ownerDocument:e}=n.internalEngine();return e.visibilityState===`hidden`}function y(){c||g()}function b(){c||h()}function x(){c=!0,g()}function S(){c=!1,h()}function C(e){e!==void 0&&(u=e),h()}function w(){s&&g()}function T(){s&&h()}function E(){return s}function D(){let{index:e}=n.internalEngine(),r=e.clone().add(1).get(),i=n.scrollSnapList().length-1,a=t.stopOnLastSnap&&r===i;if(n.canScrollNext()?n.scrollNext(u):n.scrollTo(0,u),n.emit(`autoplay:select`),a)return g();h()}function O(){return a?i[n.selectedScrollSnap()]-(new Date().getTime()-a):null}return{name:`autoplay`,options:e,init:d,destroy:f,play:C,stop:w,reset:T,isPlaying:E,timeUntilNext:O}}Sn.globalOptions=void 0;var Cn={card:`ge`,title:`he`},wn=k(x());const Tn=({game:e,...t})=>{let{title:n,poster:r}=e,{startTime:i,endTime:a,status:o}=c(e),{t:s}=z(),d=l.get(o),f=o===u.OnGoing?a.diff((0,wn.default)(),`h`):a.diff(i,`h`),p=Ye(r);return(0,Z.jsx)(F,{...t,component:ie,to:`/games/${e.id}`,shadow:`md`,p:`md`,radius:`md`,__vars:{"--slide-image":`url(${r})`,"--slide-title-color":p},className:Cn.card,children:(0,Z.jsxs)(V,{h:`100%`,gap:2,justify:`space-between`,children:[(0,Z.jsxs)(H,{gap:4,children:[(0,Z.jsx)(C,{size:`sm`,variant:`filled`,children:e.limit===0?s(`game.tag.multiplayer`):e.limit===1?s(`game.tag.individual`):s(`game.tag.limited`,{count:e.limit})}),(0,Z.jsx)(C,{size:`sm`,variant:`filled`,color:d,children:o===u.OnGoing?s(`game.content.remaining_duration`,{hours:f}):s(`game.content.total_duration`,{hours:f})})]}),(0,Z.jsx)(A,{pb:10,order:3,className:Cn.title,children:n})]})})},En=({games:e,...t})=>{let n=(0,X.useRef)(Sn({delay:5e3}));return(0,Z.jsx)(j,{w:`100%`,mx:`auto`,children:(0,Z.jsx)(vn,{type:`container`,withIndicators:!0,slideGap:`md`,withControls:!1,plugins:[n.current],emblaOptions:{loop:!0},onMouseEnter:n.current.stop,onMouseLeave:n.current.reset,...t,children:e.map(e=>(0,Z.jsx)(vn.Slide,{children:(0,Z.jsx)(Tn,{game:e})},e.id))})})};var Dn={posts:`T_`,wrapper:`U_`,inner:`V_`},On=k(O(),1),kn=()=>{let{t:e}=z(),{data:t,mutate:n}=w.info.useInfoGetLatestPosts({refreshInterval:300*1e3}),{recentGames:i}=s(),c=async(r,i)=>{i(!0);try{let e=await w.edit.editUpdatePost(r.id,{isPinned:!r.isPinned});r.isPinned?n([...t?.filter(e=>e.id!==r.id&&e.isPinned)??[],{...e.data},...t?.filter(e=>e.id!==r.id&&!e.isPinned)??[]]):n([{...e.data},...t?.filter(e=>e.id!==r.id&&e.isPinned)??[],...t?.filter(e=>e.id!==r.id&&!e.isPinned)??[]]),w.info.mutateInfoGetPosts()}catch(t){I(t,e)}finally{i(!1)}},l=D(),u=_(900),{height:d}=r(),f=u?i:i?.slice(0,Math.ceil((d-300)/240));return o(),(0,Z.jsx)(a,{minWidth:0,withFooter:!0,withHeader:!0,stickyHeader:!0,children:(0,Z.jsxs)(V,{justify:`flex-start`,children:[u&&f&&f.length>0&&(0,Z.jsx)(En,{games:f}),(0,Z.jsx)(V,{align:`center`,children:(0,Z.jsxs)(H,{wrap:`nowrap`,gap:4,justify:`space-between`,align:`flex-start`,w:`100%`,children:[(0,Z.jsx)(V,{className:Dn.posts,children:u?t?.map(e=>(0,Z.jsx)(et,{post:e,onTogglePinned:c},e.id)):t?.map(e=>(0,Z.jsx)(de,{post:e,onTogglePinned:c},e.id))}),!u&&(0,Z.jsx)(`nav`,{className:Dn.wrapper,children:(0,Z.jsx)(`div`,{className:Dn.inner,children:(0,Z.jsxs)(V,{children:[(0,Z.jsxs)(H,{wrap:`nowrap`,children:[(0,Z.jsx)(On.Icon,{path:`M14.4,6H20V16H13L12.6,14H7V21H5V4H14L14.4,6M14,14H16V12H18V10H16V8H14V10L13,8V6H11V8H9V6H7V8H9V10H7V12H9V10H11V12H13V10L14,12V14M11,10V8H13V10H11M14,10H16V12H14V10Z`,size:1.5,color:l.colors[l.primaryColor][4]}),(0,Z.jsx)(A,{order:3,children:e(`common.content.home.recent_games`)})]}),f?.map(e=>(0,Z.jsx)(Ze,{game:e},e.id))]})})})]})})]})})};export{kn as default};