/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{t as e}from"./kocdnk2i.js";import{t}from"./nu4jnu0f.js";import{t as n}from"./nugqs812.js";import{t as r}from"./h0nb8b87.js";import{Ca as i,Cr as a,In as o,O as s,Oa as c,S as l,Vr as u,W as d,ar as f,dr as p,ha as m,q as h,qr as g,wr as _}from"./index.hrqptwjo.js";import{t as v}from"./lpdh7ltc.js";import{n as y,t as b}from"./k91mi8w4.js";var x=c(s(),1),S=c(i(),1),C=c(m(),1),w=()=>{let[i,s]=t(``),[c,m]=(0,S.useState)(!1),{captchaRef:w,getToken:T,cleanUp:E}=y(),{t:D}=p();e(D(`account.title.recovery`));let O=async e=>{e.preventDefault();let{valid:t,token:n}=await T();if(!t){a({color:`orange`,title:D(`account.notification.captcha.not_valid`),message:D(`common.error.try_later`),loading:!0});return}m(!0),a({color:`orange`,id:`recovery-status`,title:D(`account.notification.captcha.request_sent.title`),message:D(`account.notification.captcha.request_sent.message`),loading:!0,autoClose:!1});try{await o.account.accountRecovery({email:i,challenge:n}),_({id:`recovery-status`,color:`teal`,title:D(`common.email.sent.title`),message:D(`common.email.sent.message`),icon:(0,C.jsx)(x.Icon,{path:d,size:1}),loading:!1,autoClose:!0}),E(!0)}catch(e){_({id:`recovery-status`,color:`red`,title:D(`common.error.encountered`),message:l(e,D),icon:(0,C.jsx)(x.Icon,{path:h,size:1}),loading:!1,autoClose:!0}),E(!1)}finally{m(!1)}};return(0,C.jsxs)(v,{onSubmit:O,children:[(0,C.jsx)(r,{required:!0,label:D(`account.label.email`),placeholder:`ctf@example.com`,type:`email`,w:`100%`,value:i,disabled:c,onChange:e=>s(e.currentTarget.value)}),(0,C.jsx)(b,{action:`recovery`,ref:w}),(0,C.jsx)(g,{fz:`xs`,className:n.alignSelfEnd,component:f,to:`/account/login`,children:D(`account.anchor.login`)}),(0,C.jsx)(u,{disabled:c,fullWidth:!0,onClick:O,children:D(`account.button.recovery`)})]})};export{w as default};