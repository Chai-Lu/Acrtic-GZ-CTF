/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{t as e}from"./kocdnk2i.js";import"./nugqs812.js";import{Ca as t,Cr as n,In as r,Jr as i,O as a,Oa as o,Vr as s,W as c,dr as l,ha as u,or as d,q as f,sr as p}from"./index.hrqptwjo.js";import{t as m}from"./lpdh7ltc.js";var h=o(a(),1),g=o(t(),1),_=o(u(),1),v=()=>{let t=p(),a=d(),o=new URLSearchParams(a.search),u=o.get(`token`),v=o.get(`email`),[y,b]=(0,g.useState)(!1),{t:x}=l();return e(x(`account.title.verify`)),(0,_.jsx)(m,{onSubmit:async e=>{if(e.preventDefault(),!u||!v){n({color:`red`,title:x(`account.notification.verify.failed`),message:x(`common.error.param_missing`),icon:(0,_.jsx)(h.Icon,{path:f,size:1})});return}b(!0);try{await r.account.accountVerify({token:u,email:v}),n({color:`teal`,title:x(`account.notification.verify.success`),message:window.atob(v),icon:(0,_.jsx)(h.Icon,{path:c,size:1})}),t(`/account/login`)}catch{n({color:`red`,title:x(`account.notification.verify.failed`),message:x(`common.error.param_error`),icon:(0,_.jsx)(h.Icon,{path:f,size:1})})}finally{b(!1)}},children:v&&u?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i,{size:`md`,fw:500,children:x(`account.content.welcome`,{decodeEmail:window.atob(v)})}),(0,_.jsx)(i,{size:`md`,fw:500,children:x(`account.content.verify.message`)}),(0,_.jsx)(s,{mt:`lg`,type:`submit`,w:`50%`,disabled:y,children:x(`account.button.verify_account`)})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(i,{size:`md`,fw:500,children:x(`account.content.link_invalid`)}),(0,_.jsx)(i,{size:`md`,fw:500,children:x(`account.content.link_check`)})]})})};export{v as default};