/* The GZ::CTF Project @unknown
 * 
 * License   : GNU Affero General Public License v3.0 (Core)
 * License   : LicenseRef-GZCTF-Restricted (Restricted components)
 * Commit    : Unofficial build version
 * Build     : 2025-12-08T11:45:34.456Z
 * Copyright (C) 2022-2025 GZTimeWalker. All Rights Reserved.
 */
import{s as e,t}from"./isy1dskq.js";import{t as n}from"./nugqs812.js";import{Ca as r,In as i,Jn as a,Kt as o,Mt as s,O as c,Oa as l,Vr as u,cr as d,ct as f,dr as p,fn as m,gt as h,ha as g,jr as _,kr as v,li as y,or as b,sr as x,u as S}from"./index.hrqptwjo.js";import{n as C}from"./iwhjrhtg.js";import{t as w}from"./je83xcx9.js";import{t as T}from"./odnwo8oc.js";var E=l(c()),D=l(r()),O=l(g());const k=({children:r,isLoading:c})=>{let{id:l}=d(),g=parseInt(l??`-1`),k=x(),A=b(),{t:j}=p(),M=[{icon:s,title:j(`game.tab.monitor.events`),path:`events`},{icon:h,title:j(`game.tab.monitor.submissions`),path:`submissions`},{icon:f,title:j(`game.tab.monitor.cheatinfo`),path:`cheatinfo`},{icon:o,title:j(`game.tab.monitor.traffic`),path:`traffic`}],N=e=>M.find(t=>e.endsWith(t.path)),[P,F]=(0,D.useState)(N(A.pathname)?.path??M[0].path),[I,L]=(0,D.useState)(!1);return(0,D.useEffect)(()=>{let e=N(A.pathname);e?F(e.path??``):k(M[0].path)},[A]),(0,O.jsx)(t,{width:`90%`,children:(0,O.jsx)(C,{requiredRole:a.Monitor,children:(0,O.jsx)(T,{children:(0,O.jsxs)(y,{justify:`space-between`,align:`flex-start`,children:[(0,O.jsxs)(_,{children:[(0,O.jsx)(u,{disabled:I,w:`10rem`,classNames:{inner:n.justifyBetween},leftSection:(0,O.jsx)(E.Icon,{path:m,size:1}),onClick:()=>w(i.game.gameScoreboardSheet(g,{format:`blob`}),L,j,`Scoreboard_${g}_${Date.now()}.xlsx`),children:j(`game.button.download.scoreboard`)}),(0,O.jsx)(v,{orientation:`vertical`,value:P,onChange:e=>e&&k(`/games/${l}/monitor/${e}`),classNames:{root:n.w10rem,list:n.w10rem},children:(0,O.jsx)(v.List,{children:M.map(e=>(0,O.jsx)(v.Tab,{leftSection:(0,O.jsx)(E.Icon,{path:e.icon,size:1}),value:e.path,children:e.title},e.path))})})]}),(0,O.jsxs)(_,{w:`calc(100% - 11rem)`,pos:`relative`,children:[(0,O.jsx)(e,{visible:c??!1,overlayProps:S}),r]})]})})})})};export{k as t};